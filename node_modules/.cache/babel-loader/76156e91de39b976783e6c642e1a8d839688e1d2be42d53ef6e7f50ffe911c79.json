{"ast":null,"code":"var _jsxFileName = \"/Users/leearthur/VScode/mmm/src/components/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Paper, TextField, Button, Typography, Alert } from '@mui/material';\nimport { auth } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onToggleForm\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const {\n    login\n  } = useAuth();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await auth.login(formData.username, formData.password);\n      login(response.data, response.data.token);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response$data$no;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : (_err$response$data$no = _err$response$data.non_field_errors) === null || _err$response$data$no === void 0 ? void 0 : _err$response$data$no[0]) || 'Invalid username or password');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 4,\n      maxWidth: 400,\n      mx: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      component: \"h1\",\n      gutterBottom: true,\n      align: \"center\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Username\",\n        margin: \"normal\",\n        value: formData.username,\n        onChange: e => setFormData({\n          ...formData,\n          username: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Password\",\n        type: \"password\",\n        margin: \"normal\",\n        value: formData.password,\n        onChange: e => setFormData({\n          ...formData,\n          password: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        type: \"submit\",\n        sx: {\n          mt: 3\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"text\",\n        onClick: onToggleForm,\n        sx: {\n          mt: 1\n        },\n        children: \"Don't have an account? Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"cwtqrPhf6o5LcHciFiCtyzo8wn8=\", false, function () {\n  return [useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Box","Paper","TextField","Button","Typography","Alert","auth","useAuth","jsxDEV","_jsxDEV","Login","onToggleForm","_s","formData","setFormData","username","password","error","setError","login","handleSubmit","e","preventDefault","response","data","token","err","_err$response","_err$response$data","_err$response$data$no","non_field_errors","elevation","sx","p","maxWidth","mx","children","variant","component","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","onSubmit","fullWidth","label","margin","value","onChange","target","required","type","mt","onClick","_c","$RefreshReg$"],"sources":["/Users/leearthur/VScode/mmm/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Alert,\n} from '@mui/material';\nimport { auth } from '../../services/api';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Login = ({ onToggleForm }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await auth.login(formData.username, formData.password);\n      login(response.data, response.data.token);\n    } catch (err) {\n      setError(err.response?.data?.non_field_errors?.[0] || 'Invalid username or password');\n    }\n  };\n\n  return (\n    <Paper elevation={3} sx={{ p: 4, maxWidth: 400, mx: 'auto' }}>\n      <Typography variant=\"h5\" component=\"h1\" gutterBottom align=\"center\">\n        Login\n      </Typography>\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n      <Box component=\"form\" onSubmit={handleSubmit}>\n        <TextField\n          fullWidth\n          label=\"Username\"\n          margin=\"normal\"\n          value={formData.username}\n          onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={formData.password}\n          onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n          required\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          type=\"submit\"\n          sx={{ mt: 3 }}\n        >\n          Login\n        </Button>\n        <Button\n          fullWidth\n          variant=\"text\"\n          onClick={onToggleForm}\n          sx={{ mt: 1 }}\n        >\n          Don't have an account? Register\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default Login; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,GAAG,EACHC,KAAK,EACLC,SAAS,EACTC,MAAM,EACNC,UAAU,EACVC,KAAK,QACA,eAAe;AACtB,SAASC,IAAI,QAAQ,oBAAoB;AACzC,SAASC,OAAO,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,KAAK,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC;IACvCgB,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAEoB;EAAM,CAAC,GAAGZ,OAAO,CAAC,CAAC;EAE3B,MAAMa,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMjB,IAAI,CAACa,KAAK,CAACN,QAAQ,CAACE,QAAQ,EAAEF,QAAQ,CAACG,QAAQ,CAAC;MACvEG,KAAK,CAACI,QAAQ,CAACC,IAAI,EAAED,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC;IAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA,EAAAC,qBAAA;MACZX,QAAQ,CAAC,EAAAS,aAAA,GAAAD,GAAG,CAACH,QAAQ,cAAAI,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcH,IAAI,cAAAI,kBAAA,wBAAAC,qBAAA,GAAlBD,kBAAA,CAAoBE,gBAAgB,cAAAD,qBAAA,uBAApCA,qBAAA,CAAuC,CAAC,CAAC,KAAI,8BAA8B,CAAC;IACvF;EACF,CAAC;EAED,oBACEpB,OAAA,CAACR,KAAK;IAAC8B,SAAS,EAAE,CAAE;IAACC,EAAE,EAAE;MAAEC,CAAC,EAAE,CAAC;MAAEC,QAAQ,EAAE,GAAG;MAAEC,EAAE,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC3D3B,OAAA,CAACL,UAAU;MAACiC,OAAO,EAAC,IAAI;MAACC,SAAS,EAAC,IAAI;MAACC,YAAY;MAACC,KAAK,EAAC,QAAQ;MAAAJ,QAAA,EAAC;IAEpE;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EACZ3B,KAAK,iBACJR,OAAA,CAACJ,KAAK;MAACwC,QAAQ,EAAC,OAAO;MAACb,EAAE,EAAE;QAAEc,EAAE,EAAE;MAAE,CAAE;MAAAV,QAAA,EACnCnB;IAAK;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CACR,eACDnC,OAAA,CAACT,GAAG;MAACsC,SAAS,EAAC,MAAM;MAACS,QAAQ,EAAE3B,YAAa;MAAAgB,QAAA,gBAC3C3B,OAAA,CAACP,SAAS;QACR8C,SAAS;QACTC,KAAK,EAAC,UAAU;QAChBC,MAAM,EAAC,QAAQ;QACfC,KAAK,EAAEtC,QAAQ,CAACE,QAAS;QACzBqC,QAAQ,EAAG/B,CAAC,IAAKP,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEE,QAAQ,EAAEM,CAAC,CAACgC,MAAM,CAACF;QAAM,CAAC,CAAE;QACxEG,QAAQ;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFnC,OAAA,CAACP,SAAS;QACR8C,SAAS;QACTC,KAAK,EAAC,UAAU;QAChBM,IAAI,EAAC,UAAU;QACfL,MAAM,EAAC,QAAQ;QACfC,KAAK,EAAEtC,QAAQ,CAACG,QAAS;QACzBoC,QAAQ,EAAG/B,CAAC,IAAKP,WAAW,CAAC;UAAE,GAAGD,QAAQ;UAAEG,QAAQ,EAAEK,CAAC,CAACgC,MAAM,CAACF;QAAM,CAAC,CAAE;QACxEG,QAAQ;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFnC,OAAA,CAACN,MAAM;QACL6C,SAAS;QACTX,OAAO,EAAC,WAAW;QACnBkB,IAAI,EAAC,QAAQ;QACbvB,EAAE,EAAE;UAAEwB,EAAE,EAAE;QAAE,CAAE;QAAApB,QAAA,EACf;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTnC,OAAA,CAACN,MAAM;QACL6C,SAAS;QACTX,OAAO,EAAC,MAAM;QACdoB,OAAO,EAAE9C,YAAa;QACtBqB,EAAE,EAAE;UAAEwB,EAAE,EAAE;QAAE,CAAE;QAAApB,QAAA,EACf;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEZ,CAAC;AAAChC,EAAA,CAjEIF,KAAK;EAAA,QAMSH,OAAO;AAAA;AAAAmD,EAAA,GANrBhD,KAAK;AAmEX,eAAeA,KAAK;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}